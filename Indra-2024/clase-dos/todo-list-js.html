<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <style>
        
        #btnAgregar {
            background-color: green;
        }
    </style>

    <script>

        //El onload registra un evento solo
        //window.onload = function(){ .. }

        //se ejecuta cuando el documento ya se ha cargado
        //el addEventListener puede registrar varios eventos
        window.addEventListener("load", () => {
            let btnCentrarTareas = document.getElementById("btnCentrarTareas");

            btnCentrarTareas.addEventListener("click", function () {
                //Seleccionar todos los elementos de la lista de la clase list-group-item
                let elementos = document.querySelectorAll(".list-group-item");

                //Ejemplo 2
                elementos.forEach((elemento) => {
                    //la clase text-center es de bootstrap
                    elemento.classList.add("text-center");
                });
            });

            //Opcion 1
            let btnAgregar = document.getElementById("btnAgregar");
            //Opcion 2
            //let btnAgregar = document.querySelector("#btnAgregar");

            btnAgregar.addEventListener("click", function () {
                let txtTarea = document.getElementById("txtTarea");
                //alert("agregro la tarea " + txtTarea.value);
                let ul = document.querySelector("ul"); //hay uno solo
               
                //Opcion 1 
                /*ul.innerHTML += `
                     <li class="list-group-item">
                         ${txtTarea.value}
                        <button class="btn btn-danger float-end" onclick="eliminarTareaConEvent(event)">🗑️</button>
                     </li>`;

                //Opcion 2*/
                let li = document.createElement("li");
                //li.id = "tarea"; si quiero agregar un id
                li.classList.add("list-group-item");
                li.textContent = txtTarea.value;
                let boton = document.createElement("button");
                boton.classList.add("btn", "btn-danger", "float-end");
                boton.textContent = "🗑️";
                boton.addEventListener("click", function(){
                    eliminarTareaConThis(boton);
                });
                li.appendChild(boton);
                ul.appendChild(li);
            });
        })

    function eliminarTareaConThis(boton){
        console.log(boton)
        let li = boton.parentElement;
        console.log("Eliminando la tarea " + li.textContent);
        li.remove();
    }

    function eliminarTareaConEvent(event){
        let boton = event.target;
        let li = boton.parentElement;
        console.log("Eliminando la tarea " + li.textContent);
        li.remove();
    }
    </script>
</head>

<body>
    <header class="alert alert-info text-center">
        <h1>La mejor Todo List del mundo mundial</h1>
    </header>

    <main class="container">
        <div class="input-group mb-3 w-50 mx-auto">
            <input type="text" class="form-control" id="txtTarea" placeholder="Agrega una tarea">
            <button class="btn btn-primary" id="btnAgregar">Agregar tarea</button>
        </div>

        <ul class="list-group w-50 mx-auto">
            <li class="list-group-item active">Lista de tareas</li>

            <!-- El this del parametro hace referencia al boton sobre el que hago click -->
            <li class="list-group-item">Tarea 1... <button class="btn btn-danger float-end" onclick="eliminarTareaConThis(this)">🗑️</button>  </li>
            <li class="list-group-item">Tarea 2... <button class="btn btn-danger float-end" onclick="eliminarTareaConThis(this)">🗑️</button></li>
            <!-- El event  -->
            <li class="list-group-item">Tarea 3... <button class="btn btn-danger float-end" onclick="eliminarTareaConEvent(event)">🗑️</button></li>
            <li class="list-group-item">Tarea 4...  </li>
        </ul>
    </main>

    <button class="btn btn-primary w-100 mt-3" id="btnCentrarTareas">Centrar Tareas</button>

    <script>
        //Lo vamos a llevar arriba

        /*let btnCentrarTareas = document.getElementById("btnCentrarTareas");

        btnCentrarTareas.addEventListener("click", function(){
           //Seleccionar todos los elementos de la lista de la clase list-group-item
           let elementos = document.querySelectorAll(".list-group-item");

           //Ejemplo 1
           /*for (elemento of elementos){
               //la clase text-center es de bootstrap
               elemento.classList.add("text-center");
           }*/

        //Ejemplo 2
        /* elementos.forEach((elemento)=>{
              //la clase text-center es de bootstrap
              elemento.classList.add("text-center");
         });
      });*/

    </script>
</body>

</html>